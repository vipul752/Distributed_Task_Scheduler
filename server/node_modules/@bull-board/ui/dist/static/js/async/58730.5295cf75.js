"use strict";(self.webpackChunk_bull_board_ui=self.webpackChunk_bull_board_ui||[]).push([["58730"],{40555(e,s){s.STATUSES=void 0,s.STATUSES={latest:"latest",active:"active",waiting:"waiting",waitingChildren:"waiting-children",prioritized:"prioritized",completed:"completed",failed:"failed",delayed:"delayed",paused:"paused"}},81367(e,s,a){a.d(s,{Z:()=>t});var l=a(31085),i=a(54357);a(14041);let t=e=>{let{children:s,className:a}=e;return(0,l.jsx)("div",{className:(0,i.A)("card-xqyZlH",a),children:s})}},10179(e,s,a){a.d(s,{L:()=>i});var l=a(31085);a(14041);let i=()=>(0,l.jsx)("svg",{"aria-hidden":"true",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 512",children:(0,l.jsx)("path",{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"})})},8020(e,s,a){a.d(s,{E:()=>i});var l=a(31085);a(14041);let i=()=>(0,l.jsx)("svg",{"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:(0,l.jsx)("path",{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"})})},15190(e,s,a){a.d(s,{u:()=>i});var l=a(31085);a(14041);let i=()=>(0,l.jsx)("svg",{"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:(0,l.jsx)("path",{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"})})},79089(e,s,a){a.d(s,{OverviewPage:()=>L});var l=a(31085),i=a(14041),t=a(7841),r=a(42348),d=a(84382),c=a(10179),n=a(8020),o=a(15190);let u=()=>(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:(0,l.jsx)("path",{d:"M183.6 42.4C177.5 35.8 169 32 160 32s-17.5 3.8-23.6 10.4l-88 96c-11.9 13-11.1 33.3 2 45.2s33.3 11.1 45.2-2L128 146.3 128 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-301.7 32.4 35.4c11.9 13 32.2 13.9 45.2 2s13.9-32.2 2-45.2l-88-96zM320 320c0 17.7 14.3 32 32 32l50.7 0-73.4 73.4c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8l128 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-50.7 0 73.4-73.4c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8l-128 0c-17.7 0-32 14.3-32 32zM416 32c-12.1 0-23.2 6.8-28.6 17.7l-64 128-16 32c-7.9 15.8-1.5 35 14.3 42.9s35 1.5 42.9-14.3l7.2-14.3 88.4 0 7.2 14.3c7.9 15.8 27.1 22.2 42.9 14.3s22.2-27.1 14.3-42.9l-16-32-64-128C439.2 38.8 428.1 32 416 32zM395.8 176L416 135.6 436.2 176l-40.4 0z"})}),h=()=>(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:(0,l.jsx)("path",{d:"M288 464 c9 0 17.5 -3.8 23.6 -10.4 l88 -96 c11.9 -13 11.1 -33.3 -2 -45.2 s-33.3 -11.1 -45.2 2 L320 349.7 L320 48 c0 -17.7 -14.3 -32 -32 -32 s-32 14.3 -32 32 l0 301.7 L223.6 314.4 c-11.9 -13 -32.2 -13.9 -45.2 -2 s-13.9 32.2 -2 45.2 l88 96 C270.5 460.2 279 464 288 464 z"})}),p=()=>(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:(0,l.jsx)("path",{d:"M288 48 c9 0 17.5 3.8 23.6 10.4 l88 96 c11.9 13 11.1 33.3 -2 45.2 s-33.3 11.1 -45.2 -2 L320 162.3 L320 464 c0 17.7 -14.3 32 -32 32 s-32 -14.3 -32 -32 l0 -301.7 L223.6 197.6 c-11.9 13 -32.2 13.9 -45.2 2 s-13.9 -32.2 -2 -45.2 l88 -96 C270.5 51.8 279 48 288 48 z"})}),x=["alphabetical","failed","completed","active","waiting","delayed"],v=e=>{let{actions:s,queues:a,onSort:i,sortBy:v,sortDirection:j}=e,{t:m}=(0,r.Bd)();if(!a)return null;let g=a.every(e=>e.isPaused),w=a.every(e=>e.readOnlyMode),S="asc"===j?(0,l.jsx)(h,{}):(0,l.jsx)(p,{});return(0,l.jsxs)(t.bL,{children:[(0,l.jsx)(t.l9,{asChild:!0,children:(0,l.jsx)(d.$,{children:(0,l.jsx)(c.L,{})})}),(0,l.jsx)(t.ZL,{children:(0,l.jsxs)(t.UC,{className:"content-HH1ZkD",align:"end",children:[w?null:(0,l.jsxs)(l.Fragment,{children:[g?(0,l.jsxs)(t.q7,{onClick:s.resumeAll,children:[(0,l.jsx)(o.u,{}),m("QUEUE.ACTIONS.RESUME_ALL")]}):(0,l.jsxs)(t.q7,{onClick:s.pauseAll,children:[(0,l.jsx)(n.E,{}),m("QUEUE.ACTIONS.PAUSE_ALL")]}),(0,l.jsx)(t.wv,{})]}),(0,l.jsxs)(t.Pb,{children:[(0,l.jsxs)(t.ZP,{className:"subTrigger-G3bGtN",children:[(0,l.jsx)(u,{}),m("DASHBOARD.SORTING.TITLE")]}),(0,l.jsx)(t.G5,{className:"subContent-AJjmFe content-HH1ZkD",sideOffset:2,children:x.map(e=>(0,l.jsxs)(t.q7,{onClick:()=>i(e),children:[v===e&&S,m(`DASHBOARD.SORTING.${e.toUpperCase()}`)]},e))})]})]})})]})};var j=a(33664),m=a(20297),g=a(81367),w=a(54357);function S(e){return e.split("-").map((e,s)=>s>0?`${e[0].toUpperCase()}${e.slice(1)}`:e).join("")}let A={stats:"stats-rA0n5N",progressBar:"progressBar-kqLFX9",bar:"bar-aiypOU",waiting:"waiting-q0vfA9",waitingChildren:"waitingChildren-S11OYM",prioritized:"prioritized-jTAxmN",completed:"completed-Bjjsoj",failed:"failed-L8BZmZ",active:"active-Aj24DJ",delayed:"delayed-huK85t",paused:"paused-xuACK2"},C=e=>{let{queue:s}=e,{t:a}=(0,r.Bd)(),i=s.statuses.reduce((e,a)=>e+(s.counts[a]||0),0);return(0,l.jsxs)("div",{className:A.stats,children:[(0,l.jsx)("div",{className:A.progressBar,children:s.statuses.filter(e=>s.counts[e]>0).map(e=>{let t=s.counts[e];return(0,l.jsx)(j.N_,{to:m.y.queuePage(s.name,{[s.name]:e}),role:"progressbar",style:{width:`${t/i*100}%`},"aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":i,className:(0,w.A)(A[S(e)],A.bar),title:a(`QUEUE.STATUS.${e.toUpperCase()}`),children:t},e)})}),(0,l.jsx)("div",{children:a("DASHBOARD.JOBS_COUNT",{count:i})})]})},T=e=>{let{queue:s}=e;return(0,l.jsxs)(g.Z,{className:"queueCard-YHG6yO",children:[(0,l.jsx)("div",{children:(0,l.jsx)(j.k2,{to:m.y.queuePage(s.name),className:"link-xZr7yB",children:s.displayName})}),(0,l.jsx)(C,{queue:s})]})};var U=a(40555);let N=[U.STATUSES.active,U.STATUSES.waiting,U.STATUSES.waitingChildren,U.STATUSES.prioritized,U.STATUSES.completed,U.STATUSES.failed,U.STATUSES.delayed,U.STATUSES.paused],y={legend:"legend-dQr9_P",active:"active-XAIIq_",waiting:"waiting-_PMvwD",waitingChildren:"waitingChildren-IOCmW6",prioritized:"prioritized-fjvq3d",failed:"failed-vDGeD0",completed:"completed-vKG3Gj",delayed:"delayed-sJhMjD",paused:"paused-Fn6oB3"};var E=a(66960);let b=()=>{let{t:e}=(0,r.Bd)(),s=(0,E.I)();return(0,l.jsx)("ul",{className:y.legend,children:N.map(a=>{let i=e(`QUEUE.STATUS.${a.toUpperCase()}`).toLocaleUpperCase(),t=s.get("status")===a;return(0,l.jsx)("li",{className:y[S(a)],children:(0,l.jsx)(j.k2,{to:m.y.dashboardPage(t?void 0:a),activeClassName:y.active,isActive:()=>t,children:(0,l.jsx)("span",{title:i,children:i})})},a)})})};var f=a(87106),B=a(40783);let L=()=>{let{actions:e,queues:s}=(0,f.A)(),a=(0,E.I)();e.pollQueues();let t=a.get("status"),{sortedQueues:r,onSort:d,sortKey:c,sortDirection:n}=function(e){let{sorting:{dashboard:{key:s,direction:a}},setSettings:l}=(0,B.C)(e=>{let{setSettings:s,sorting:a}=e;return{sorting:a,setSettings:s}}),t=e.slice(0).sort((e,l)=>"alphabetical"===s?"asc"===a?e.displayName.localeCompare(l.displayName):l.displayName.localeCompare(e.displayName):"asc"===a?e.counts[s]-l.counts[s]:l.counts[s]-e.counts[s]),r=(0,i.useCallback)(e=>{l({sorting:{dashboard:{key:e,direction:e===s&&"asc"===a?"desc":"asc"}}})},[s,a]);return{sortedQueues:t,sortDirection:a,sortKey:s,onSort:r}}((null==s?void 0:s.filter(e=>!t||e.counts[t]>0))||[]);return(0,l.jsxs)("section",{children:[(0,l.jsxs)("div",{className:"header-J4iuAc",children:[(0,l.jsx)(b,{}),(0,l.jsx)(v,{actions:e,queues:s,onSort:d,sortBy:c,sortDirection:n})]}),(0,l.jsx)("ul",{className:"overview-zcxjH0",children:r.map(e=>(0,l.jsx)("li",{children:(0,l.jsx)(T,{queue:e})},e.name))})]})}}}]);