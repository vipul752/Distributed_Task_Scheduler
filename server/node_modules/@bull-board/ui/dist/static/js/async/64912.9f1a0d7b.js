"use strict";(self.webpackChunk_bull_board_ui=self.webpackChunk_bull_board_ui||[]).push([["64912"],{40555(e,l){l.STATUSES=void 0,l.STATUSES={latest:"latest",active:"active",waiting:"waiting",waitingChildren:"waiting-children",prioritized:"prioritized",completed:"completed",failed:"failed",delayed:"delayed",paused:"paused"}},81367(e,l,t){t.d(l,{Z:()=>n});var s=t(31085),a=t(54357);t(14041);let n=e=>{let{children:l,className:t}=e;return(0,s.jsx)("div",{className:(0,a.A)("card-xqyZlH",t),children:l})}},18407(e,l,t){t.d(l,{D:()=>n});var s=t(31085),a=t(54357);t(14041);let n=e=>{let{label:l,id:t,inline:n,children:r}=e;return(0,s.jsxs)("div",{className:(0,a.A)("field-JbAWJt",{"inline-vXG0Za":n}),children:[!!l&&!n&&(0,s.jsx)("label",{htmlFor:t,children:l}),r,!!l&&n&&(0,s.jsx)("label",{htmlFor:t,children:l})]})}},1701(e,l,t){t.d(l,{F:()=>n});var s=t(31085);t(14041);var a=t(18407);let n=e=>{let{label:l,id:t,...n}=e;return(0,s.jsx)(a.D,{label:l,id:t,children:(0,s.jsx)("input",{id:t,type:"text",...n})})}},19414(e,l,t){t.d(l,{A:()=>a});var s=t(31085);t(14041);let a=()=>(0,s.jsx)("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512",children:(0,s.jsx)("path",{d:"M231.293 473.899l19.799-19.799c4.686-4.686 4.686-12.284 0-16.971L70.393 256 251.092 74.87c4.686-4.686 4.686-12.284 0-16.971L231.293 38.1c-4.686-4.686-12.284-4.686-16.971 0L4.908 247.515c-4.686 4.686-4.686 12.284 0 16.971L214.322 473.9c4.687 4.686 12.285 4.686 16.971-.001z"})})},8020(e,l,t){t.d(l,{E:()=>a});var s=t(31085);t(14041);let a=()=>(0,s.jsx)("svg",{"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:(0,s.jsx)("path",{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"})})},15190(e,l,t){t.d(l,{u:()=>a});var s=t(31085);t(14041);let a=()=>(0,s.jsx)("svg",{"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:(0,s.jsx)("path",{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"})})},2206(e,l,t){t.d(l,{G:()=>a});var s=t(31085);t(14041);let a=()=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M15 17v-2.99A4 4 0 0 0 11 10H8v5L2 9l6-6v5h3a6 6 0 0 1 6 6v3h-2z"})})},7320(e,l,t){t.d(l,{m:()=>a});var s=t(31085);t(14041);let a=()=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M5 4a2 2 0 0 0-2 2v6H0l4 4 4-4H5V6h7l2-2H5zm10 4h-3l4-4 4 4h-3v6a2 2 0 0 1-2 2H6l2-2h7V8z"})})},56956(e,l,t){t.d(l,{u:()=>a});var s=t(31085);t(14041);let a=()=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M6 2l2-2h4l2 2h4v2H2V2h4zM3 6h14l-1 14H4L3 6zm5 2v10h1V8H8zm3 0v10h1V8h-1z"})})},54281(e,l,t){t.d(l,{o:()=>en});var s=t(31085),a=t(40555),n=t(14041),r=t(42348),i=t(33664),c=t(43499),o=t(81367);let d=e=>{let{className:l}=e;return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:l,children:(0,s.jsx)("path",{d:"M207.029 381.476 12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"})})},u=()=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 512 512",children:(0,s.jsx)("path",{d:"M352 0c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L370.7 96 201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L416 141.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V32c0-17.7-14.3-32-32-32H352zM80 32C35.8 32 0 67.8 0 112v320c0 44.2 35.8 80 80 80h320c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v112c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16h112c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"})});var h=t(40783);let x=()=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:(0,s.jsx)("path",{d:"M241 130.5l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9l-22.7 22.7c-9.4 9.4-24.5 9.4-33.9 0L224 227.5 69.3 381.5c-9.4 9.3-24.5 9.3-33.9 0l-22.7-22.7c-9.4-9.4-9.4-24.6 0-33.9L207 130.5C216.4 121.2 231.6 121.2 241 130.5z"})});var m=t(84382),p=t(27987),j=t(15510),v=t(54357),g=t(12445);let S=void 0!==window.Worker,w=null,T=new Map;async function b(e,l){if(S)return w||((w=new Worker(new URL(t.p+t.u("30697"),t.b),Object.assign({},{name:"highlight-worker"},{type:void 0}))).onmessage=e=>{let{data:l}=e,{id:t,code:s}=l;if(T.has(t)){let{resolve:e}=T.get(t);e(s)}}),new Promise((t,s)=>{let a=(0,g.Ak)(5);null==w||w.postMessage({id:a,code:e,language:l}),T.set(a,{resolve:e=>{T.delete(a),t(e)},reject:()=>{T.delete(a),s()}}),setTimeout(()=>s(),6e4)});{let{highlighter:s}=await Promise.all([t.e("2833"),t.e("85334")]).then(t.bind(t,79945));return s.highlightAuto(e,[l]).value||""}}let f=()=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:(0,s.jsx)("path",{d:"M280 64l40 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l40 0 9.6 0C121 27.5 153.3 0 192 0s71 27.5 78.4 64l9.6 0zM64 112c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l256 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16l-16 0 0 24c0 13.3-10.7 24-24 24l-88 0-88 0c-13.3 0-24-10.7-24-24l0-24-16 0zm128-8a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"})}),A=e=>{let{language:l,text:t}=e,[a,r]=(0,n.useState)("");return(0,n.useEffect)(()=>{let e=!1;return b(t,l).then(l=>{e||r(l)}),()=>{e=!0}},[l,t]),(0,s.jsxs)("div",{className:"codeContainerWrapper-ZpYBAP",children:[(0,s.jsx)("pre",{children:(0,s.jsx)("code",{className:(0,v.A)("hljs",l),dangerouslySetInnerHTML:{__html:a}})}),(0,s.jsx)(m.$,{onClick:()=>{navigator.clipboard.writeText(t??"")},className:"copyBtn-vLoi5u",children:(0,s.jsx)(f,{})})]})};var y=t(98807);t(30829);let N="label-ymbP05",C={container:"container-_LjKnx",basicChildStyle:"basicChildStyle-tTpXD4",collapseIcon:"collapseIcon-PhouWI",expandIcon:"expandIcon-RZtdZD",collapsedContent:"collapsedContent-wxaP6v",label:N,clickableLabel:N,punctuation:"punctuation-SIrhOo",stringValue:"stringValue-jX0CHZ",numberValue:"numberValue-FVYrm4",booleanValue:"booleanValue-Gs5QuZ",nullValue:"nullValue-Z9oy6o",undefinedValue:"undefinedValue-YPfHsD",otherValue:"otherValue-gr22aS",noQuotesForStringValues:!1},L=e=>{let{data:l,defaultCollapseDepth:t=3}=e,a=(0,n.useCallback)(()=>{navigator.clipboard.writeText(JSON.stringify(l,null,2))},[l]),r=(0,n.useCallback)(e=>0===t?(0,y.ab)(e):e<t,[t]);return(0,s.jsxs)("div",{className:"root-Eyiful",children:[(0,s.jsx)("div",{className:"content-K6N1cP",children:(0,s.jsx)(y.UU,{data:l,shouldExpandNode:r,style:C})}),(0,s.jsx)(m.$,{onClick:a,className:"copyBtn-CoPL0E",children:(0,s.jsx)(f,{})})]})};var B=t(36271),E=t(15735),O=t(64328),J=t(47245),D=t(53846),I=t(85891),_=t(26834);let k=(e,l,t)=>{let s;if((0,B.A)(e)){if(null==t?void 0:t.short)return(0,E.A)(new Date(e),t.short);s={hour:"numeric",minute:"numeric",second:"numeric"}}else if((0,O.A)(e,new Date)){if(null==t?void 0:t.common)return(0,E.A)(new Date(e),t.common);s={month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit"}}else{if(null==t?void 0:t.full)return(0,E.A)(new Date(e),t.full);s={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit"}}return new Intl.DateTimeFormat(l,s).format(e)},U=(e,l,t)=>{let s=(0,J.A)(e,l),a=s/1e3;return a>5?(0,D.A)(e,l,{includeSeconds:!0,locale:I.Q}):a>=1?t("JOB.DURATION.SECS",{duration:a.toFixed(2)}):t("JOB.DURATION.MILLI_SECS",{duration:s})},R=function(e){let{job:l,status:t,className:n}=e,{t:i,i18n:c}=(0,r.Bd)(),o=(0,_._)().dateFormats||{};return(0,s.jsx)("div",{className:(0,v.A)("timelineWrapper-iZqG0C",n),children:(0,s.jsxs)("ul",{className:"timeline-lF9niS",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("small",{children:i("JOB.ADDED_AT")}),(0,s.jsx)("time",{children:k(l.timestamp||0,c.language,o)})]}),!!l.delay&&l.delay>0&&t===a.STATUSES.delayed&&(0,s.jsxs)("li",{children:[(0,s.jsx)("small",{children:i("JOB.WILL_RUN_AT")}),(0,s.jsx)("time",{children:k((l.timestamp||0)+(l.opts.delay||l.delay||0),c.language,o)}),l.delay!==l.opts.delay&&(0,s.jsxs)("small",{children:[i("JOB.DELAY_CHANGED")," "]})]}),!!l.processedOn&&(0,s.jsxs)("li",{children:[(0,s.jsxs)("small",{children:[!!l.delay&&l.delay>0&&i("JOB.DELAYED_FOR")+" ",U(l.processedOn,l.timestamp||0,i)]}),(0,s.jsx)("small",{children:i("JOB.PROCESS_STARTED_AT")}),(0,s.jsx)("time",{children:k(l.processedOn,c.language,o)}),!!l.processedBy&&(0,s.jsx)("small",{children:i("JOB.PROCESSED_BY",{processedBy:l.processedBy})})]}),!!l.finishedOn&&(0,s.jsxs)("li",{children:[(0,s.jsx)("small",{children:U(l.finishedOn,l.processedOn||0,i)}),(0,s.jsx)("small",{children:i(l.isFailed&&t!==a.STATUSES.active&&t!==a.STATUSES.completed?"JOB.FAILED_AT":"JOB.FINISHED_AT")}),(0,s.jsx)("time",{children:k(l.finishedOn,c.language,o)})]})]})})};var M=t(26347),z=t(1701),V=t(10451),H=t(8020),$=t(15190);let F="preWrapper-V9RpQs",P=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return!l||RegExp(`${l}`,"i").test(e.message)};function W(e){return e.map((e,l)=>({message:e,lineNumber:l+1}))}let K=e=>{let l,{actions:t,job:a}=e,{t:i}=(0,r.Bd)(),[c,o]=(0,n.useState)([]),[d,u]=(0,n.useState)(!1),[h,x]=(0,n.useState)(""),p=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=!0;return t.getJobLogs().then(l=>{e&&o(W(l))}),()=>{e=!1}},[]),(0,M.$)(async()=>{var e;let l=null==(e=p.current)?void 0:e.querySelector(`.${F}`);o(W(await t.getJobLogs())),requestAnimationFrame(()=>{null==l||l.scrollTo({top:null==l?void 0:l.scrollHeight,behavior:"smooth"})})},d?2500:null);let j=c.filter(e=>P(e,h));return(0,s.jsxs)("div",{className:"jobLogs-MsL4aJ",ref:p,children:[(0,s.jsxs)("ul",{className:"toolbar-duDU2f",children:[(0,s.jsx)("li",{children:(0,s.jsx)("form",{onSubmit:e=>{var l,t;x((null==(t=e.currentTarget)||null==(l=t.searchQuery)?void 0:l.value)||""),e.preventDefault()},children:(0,s.jsx)(z.F,{className:"searchBar-N4o70g",name:"searchQuery",type:"search",placeholder:i("JOB.LOGS.FILTER_PLACEHOLDER"),onChange:e=>{var l;(null==(l=e.currentTarget)?void 0:l.value)||x("")}})})}),!a.finishedOn&&(0,s.jsx)("li",{children:(0,s.jsx)(m.$,{isActive:d,onClick:()=>{u(!d)},children:d?(0,s.jsx)(H.E,{}):(0,s.jsx)($.u,{})})}),(0,s.jsx)("li",{children:(0,s.jsx)(m.$,{onClick:(l=p.current,async()=>l&&document.fullscreenElement!==l?await l.requestFullscreen():document.exitFullscreen()),children:(0,s.jsx)(V.P,{})})}),(0,s.jsx)("li",{children:(0,s.jsx)(m.$,{onClick:()=>{let e=j.map(e=>e.message).join("\n");navigator.clipboard.writeText(e)},children:(0,s.jsx)(f,{})})})]}),(0,s.jsx)("div",{className:F,children:(0,s.jsx)("pre",{children:(0,s.jsx)("ol",{style:{paddingInlineStart:`${`${j.length}`.length+1}ch`},children:j.map(e=>{var l,t;let a;return(0,s.jsxs)("li",{className:null==(a=null==(t=e.message)||null==(l=t.match(/((info|warn|error)?):/i))?void 0:l[1])?void 0:a.toLowerCase(),"data-line-number":`${e.lineNumber}.`,children:[e.message,(0,s.jsx)(m.$,{onClick:()=>{navigator.clipboard.writeText(e.message)},className:"logLineCopyButton-LnHhmG",tabIndex:-1,children:(0,s.jsx)(f,{})})]},e.lineNumber)})})})})]})},Z=e=>{let{selectedTab:l,job:t,actions:a,status:i}=e,{t:c}=(0,r.Bd)(),{collapseJobData:o,collapseJobOptions:u,collapseJobError:x,defaultCollapseDepth:p,useCollapsibleJson:j}=(0,h.C)(),[v,g]=(0,n.useState)({data:!1,options:!1,error:!1}),{stacktrace:S,data:w,returnValue:T,opts:b,failedReason:f}=t;switch(l){case"Data":if(o&&!v.data)return(0,s.jsxs)(m.$,{onClick:()=>g({...v,data:!0}),children:[c("JOB.SHOW_DATA_BTN")," ",(0,s.jsx)(d,{})]});return j?(0,s.jsx)(L,{data:{jobData:w,returnValue:T},defaultCollapseDepth:p}):(0,s.jsx)(A,{language:"json",text:JSON.stringify({jobData:w,returnValue:T},null,2)});case"Options":if(u&&!v.options)return(0,s.jsxs)(m.$,{onClick:()=>g({...v,options:!0}),children:[c("JOB.SHOW_OPTIONS_BTN")," ",(0,s.jsx)(d,{})]});return j?(0,s.jsx)(L,{data:b,defaultCollapseDepth:p}):(0,s.jsx)(A,{language:"json",text:JSON.stringify(b,null,2)});case"Error":if(0===S.length)return(0,s.jsx)("div",{className:"error",children:f||c("JOB.NA")});return x&&!v.error?(0,s.jsxs)(m.$,{onClick:()=>g({...v,error:!0}),children:[c("JOB.SHOW_ERRORS_BTN")," ",(0,s.jsx)(d,{})]}):(0,s.jsx)(A,{language:"stacktrace",text:S.join("\n")},"stacktrace");case"Logs":return(0,s.jsx)(K,{actions:a,job:t});case"Timeline":return(0,s.jsx)(R,{job:t,status:i,className:"timeline-_2T35a"});default:return null}},G=e=>{let{status:l,job:t,actions:a,withTimeline:n=!1}=e,{tabs:i,selectedTab:c}=(0,j.i)({currentStatus:l,withTimeline:n}),{t:o}=(0,r.Bd)();return 0===i.length?null:(0,s.jsxs)("div",{className:"details-LkCTWS",children:[(0,s.jsx)("ul",{className:"tabActions-fF3v6_",children:i.map(e=>(0,s.jsx)("li",{children:(0,s.jsx)(m.$,{onClick:e.selectTab,isActive:e.isActive,children:o(`JOB.TABS.${e.title.toUpperCase()}`)})},e.title))}),(0,s.jsx)("div",{className:"tabContent-qmHNgq",children:(0,s.jsx)(Z,{selectedTab:c,job:t,actions:a,status:l})})]})};var Q=t(2206),Y=t(7320),q=t(56956);let X=e=>{let{title:l,children:t}=e;return(0,s.jsx)("span",{"data-title":l,className:"tooltip-QJB3Pz",children:t})},ee={updateData:{titleKey:"UPDATE_DATA",Icon:()=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,s.jsx)("path",{d:"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"})}),actionKey:"updateJobData"},promote:{titleKey:"PROMOTE",Icon:Q.G,actionKey:"promoteJob"},clean:{titleKey:"CLEAN",Icon:q.u,actionKey:"cleanJob"},retry:{titleKey:"RETRY",Icon:Y.m,actionKey:"retryJob"},duplicate:{titleKey:"DUPLICATE",Icon:()=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:(0,s.jsx)("path",{d:"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"})}),actionKey:"duplicateJob"}},el={[a.STATUSES.failed]:[ee.retry,ee.duplicate,ee.updateData,ee.clean],[a.STATUSES.delayed]:[ee.promote,ee.duplicate,ee.updateData,ee.clean],[a.STATUSES.completed]:[ee.duplicate,ee.retry,ee.clean],[a.STATUSES.waiting]:[ee.duplicate,ee.updateData,ee.clean],[a.STATUSES.waitingChildren]:[ee.duplicate,ee.updateData,ee.clean],[a.STATUSES.prioritized]:[ee.duplicate,ee.updateData,ee.clean],[a.STATUSES.paused]:[ee.duplicate,ee.updateData,ee.clean]},et=e=>{let{actions:l,status:t,allowRetries:a}=e,n=el[t],{t:i}=(0,r.Bd)();return n?(a||(n=n.filter(e=>"retryJob"!==e.actionKey)),(0,s.jsx)("ul",{className:"jobActions-XfoQK8",children:n.map(e=>(0,s.jsx)("li",{children:(0,s.jsx)(X,{title:i(`JOB.ACTIONS.${e.titleKey}`),children:(0,s.jsx)(m.$,{onClick:l[e.actionKey],className:"button-GXX8BV",children:(0,s.jsx)(e.Icon,{})})})},e.titleKey))})):null},es=e=>{var l;let{progress:t,status:n,className:r,strokeWidth:i=6}=e,c="number"==typeof(l=t)?l:"string"==typeof l?Number.isNaN(+l)?null:+l:l&&"boolean"!=typeof l&&"progress"in l&&"number"==typeof l.progress?l.progress:null;if(!c)return null;let o={cx:"50%",cy:"50%",r:`calc(50% - ${i/2}px)`,strokeWidth:i,"transform-origin":"center"};return(0,s.jsxs)("svg",{className:(0,v.A)("progress-Rr7sCM",r),width:"100%",height:"100%",children:[(0,s.jsx)("circle",{...o}),(0,s.jsx)("circle",{className:(0,v.A)({"failed-rTUpGj":n===a.STATUSES.failed,"success-RY6h2q":n!==a.STATUSES.failed}),pathLength:100,strokeDasharray:100,strokeDashoffset:100-c,strokeLinejoin:"round",strokeLinecap:"round",transform:"rotate(-90)",...o}),(0,s.jsx)("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"central",children:(0,s.jsx)("tspan",{dominantBaseline:"central",children:`${Math.round(c)}%`})})]})},ea=[a.STATUSES.active,a.STATUSES.completed],en=e=>{var l,t,j,v,g,S;let{job:w,status:T,actions:b,readOnlyMode:f,allowRetries:A,jobUrl:y}=e,{t:N}=(0,r.Bd)(),{collapseJob:C}=(0,h.C)(),L=(0,c.I)(),[B,E]=n.useState(),O=!y||B||!C,J=C&&y,D=(0,s.jsxs)("h4",{children:[/^\d+$/.test(`${w.id}`)?"#":"",w.id]});return(0,s.jsx)(p.bL,{asChild:!0,open:O,children:(0,s.jsxs)(o.Z,{className:"card-BRjpw_",children:[(0,s.jsxs)("div",{className:"header-Lw4QCc",children:[(0,s.jsxs)("div",{className:"titleWithLink-UFeEb7",children:[y?(0,s.jsx)(i.N_,{className:"jobLink-wmCWQg",to:y,children:D}):D,w.externalUrl&&(0,s.jsx)("a",{className:"externalLink-dX0ReW",href:w.externalUrl.href,target:"_blank",rel:"noopener noreferrer",children:w.externalUrl.displayText??(0,s.jsx)(u,{})})]}),J&&(0,s.jsx)(m.$,{className:"collapseBtn-J6rMz7",onClick:()=>E(!O),children:O?(0,s.jsx)(x,{}):(0,s.jsx)(d,{})})]}),(0,s.jsx)(p.UC,{asChild:!0,children:(0,s.jsxs)("div",{className:"details-JRsI9B",children:[!L&&(0,s.jsx)("div",{className:"sideInfo-a9IFbv",children:(0,s.jsx)(R,{job:w,status:T})}),(0,s.jsxs)("div",{className:"contentWrapper-Aj9Wmy",children:[(0,s.jsxs)("div",{className:"title-wDT4dB",children:[(0,s.jsxs)("h5",{children:[w.name,w.attempts>1&&(0,s.jsx)("span",{children:N("JOB.ATTEMPTS",{attempts:w.attempts})}),!!(null==(t=w.opts)||null==(l=t.repeat)?void 0:l.count)&&(0,s.jsx)("span",{children:N(`JOB.REPEAT${(null==(v=w.opts)||null==(j=v.repeat)?void 0:j.limit)?"_WITH_LIMIT":""}`,{count:w.opts.repeat.count,limit:null==(S=w.opts)||null==(g=S.repeat)?void 0:g.limit})})]}),!f&&(0,s.jsx)(et,{status:T,actions:b,allowRetries:A})]}),(0,s.jsxs)("div",{className:"content-SHI77x",children:[(0,s.jsx)(G,{status:T,job:w,actions:b,withTimeline:L}),(0,s.jsx)(es,{progress:w.progress,status:w.isFailed&&!ea.includes(T)?a.STATUSES.failed:T,className:"progress-POOya3"})]})]})]})})]})})}},64771(e,l,t){t.d(l,{V:()=>a});var s=t(31085);t(14041);let a=e=>{let{actions:l,children:t}=e;return(0,s.jsxs)("div",{className:"stickyHeader-Woc0cg",children:[t,!!l&&(0,s.jsx)("div",{className:"actionContainer-gipYSV",children:l})]})}},15510(e,l,t){t.d(l,{d:()=>r,i:()=>i});var s=t(40555),a=t(14041),n=t(40783);let r=["Data","Options","Logs","Error","Timeline"];function i(e){let[l,t]=(0,a.useState)([]),{defaultJobTab:i}=(0,n.C)(),[c,o]=(0,a.useState)(l.find(e=>e===i)||l[0]);return(0,a.useEffect)(()=>{let l=r.filter(e=>"Error"!==e&&"Timeline"!==e);l=e.currentStatus===s.STATUSES.failed?["Error",...l]:[...l,"Error"],e.withTimeline&&l.push("Timeline"),t(l)},[e.currentStatus,e.withTimeline]),(0,a.useEffect)(()=>{o(l.includes(i)?i:l[0])},[i,l]),{tabs:null==l?void 0:l.map(e=>({title:e,isActive:e===c,selectTab:()=>o(e)})),selectedTab:c}}},75906(e,l,t){t.d(l,{J:()=>m});var s=t(42348),a=t(85865),n=t(83839),r=t(86090),i=t(20050),c=t(36784),o=t(86052),d=t(26347),u=t(87106),h=t(40783);let x=(0,a.vt)(e=>({job:null,status:"latest",loading:!0,updateJob:(l,t)=>e(()=>({job:l,status:t,loading:!1}))}));function m(){let e=(0,c.g)(),l=(0,i._)(),t=function(){let{pathname:e}=(0,r.zy)(),l=(0,r.B6)(e,{path:["/queue/:name/:jobId"],exact:!1,strict:!1});return decodeURIComponent((null==l?void 0:l.params.jobId)||"")}(),{actions:{updateQueues:a}}=(0,u.A)(),{t:m}=(0,s.Bd)(),{confirmJobActions:p,pollingInterval:j}=(0,h.C)(e=>{let{confirmJobActions:l,pollingInterval:t}=e;return{confirmJobActions:l,pollingInterval:t}}),{job:v,status:g,loading:S,updateJob:w}=x(e=>e),{openConfirm:T}=(0,o.S)(),b=()=>e.getJob(l,t).then(e=>{let{job:l,status:t}=e;return w(l,t)}),f=(0,n.A)(t?b:a,T);return{job:v,status:g,loading:S,actions:{getJob:b,pollJob:()=>(0,d.$)(b,j>0?1e3*j:null,[l]),promoteJob:l=>t=>f(()=>e.promoteJob(l,t.id),m("JOB.ACTIONS.CONFIRM.PROMOTE"),p),cleanJob:l=>t=>f(()=>e.cleanJob(l,t.id),m("JOB.ACTIONS.CONFIRM.CLEAN"),p),getJobLogs:l=>t=>()=>e.getJobLogs(l,t.id),retryJob:(l,t)=>s=>f(()=>e.retryJob(l,s.id,t),m("JOB.ACTIONS.CONFIRM.RETRY"),p),updateJobData:(l,t,s)=>f(()=>e.updateJobData(l,t.id,s),"",!1)}}}}}]);